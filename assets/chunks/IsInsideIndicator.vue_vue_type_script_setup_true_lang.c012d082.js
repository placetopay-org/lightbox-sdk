import{d as A,o as T,c as k,l as D,F as P,k as E}from"./framework.0a48aec2.js";var v;(function(e){e.WRAPPER_ID="placetopay_lightbox_wrapper",e.IFRAME_ID="placetopay_lightbox",e.CLOSE_BUTTON_ID="placetopay_close_button",e.STYLES_ID="placetopay-lightbox"})(v||(v={}));var g;(function(e){e.CLOSE="close",e.UPDATE_STYLES="updateStyles",e.HIDE_CLOSE_BUTTON="hideCloseButton"})(g||(g={}));var s;(function(e){e.BACKDROP_COLOR="--placetopay-lightbox-backdrop-color",e.RADIUS="--placetopay-lightbox-border-radius",e.MAX_HEIGHT="--placetopay-lightbox-max-height",e.MAX_WIDTH="--placetopay-lightbox-max-width",e.POSITION="--placetopay-lightbox-position",e.WRAPPER_WIDTH="--placetopay-lightbox-wrapper-width",e.WRAPPER_HEIGHT="--placetopay-lightbox-wrapper-height"})(s||(s={}));const I=(e,t,o)=>(globalThis.opener||globalThis.parent).postMessage({type:e,preventClose:o,payload:t},"*"),m=(e,t)=>{document.documentElement.style.setProperty(e,t)},_=e=>{document.documentElement.style.removeProperty(e)};let u=null,h=null;const y={},H={en:{popupTitle:"Popup Opened",popupMessage:"Please complete the process in the popup window. This window will remain blocked until finished."},es:{popupTitle:"Popup Abierto",popupMessage:"Por favor, complete el proceso en la ventana emergente. Esta ventana permanecerÃ¡ bloqueada hasta que finalice."}};function B(){return(navigator.language||navigator.userLanguage).startsWith("es")?"es":"en"}function R(e){const t=B();return H[t][e]}const W=()=>{if(h)return;h=document.createElement("div"),h.className="placetopay-lightbox-backdrop-overlay",h.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 9998;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    `;const e=document.createElement("div");e.className="placetopay-lightbox-backdrop-message-container",e.style.cssText=`
        background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
        border-radius: 16px;
        padding: 40px;
        max-width: 420px;
        margin: 20px;
        text-align: center;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    `;const t=document.createElement("h2");t.className="placetopay-lightbox-backdrop-title",t.textContent=R("popupTitle"),t.style.cssText=`
        margin: 0 0 20px 0;
        font-size: 22px;
        font-weight: 700;
        color: #ffffff;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    `;const o=document.createElement("p");if(o.className="placetopay-lightbox-backdrop-message",o.textContent=R("popupMessage"),o.style.cssText=`
        margin: 0;
        font-size: 15px;
        line-height: 1.6;
        color: #d1d5db;
        opacity: 0.9;
    `,e.appendChild(t),e.appendChild(o),h.appendChild(e),document.body.appendChild(h),document.body.classList.add("placetopay-lightbox-open"),document.body.style.overflow="hidden",u){const n=setInterval(()=>{u!=null&&u.closed&&(clearInterval(n),C())},1e3)}},C=()=>{h&&(document.body.removeChild(h),h=null),document.body.style.overflow="",document.body.classList.remove("placetopay-lightbox-open"),u=null},M=(e,t="self",o)=>{switch(t){case"blank":u=window.open(e,"_blank");break;case"popup":{const a=(window.screen.width-512)/2,l=(window.screen.height-640)/2;u=window.open(e,"placetopay",`popup=true,width=512,height=640,left=${a},top=${l}`);break}case"self":default:window.location.href=e;break}return u&&o&&(y[o]={window:u,type:t}),u&&W(),u},N=e=>{const t=y[e];t&&(t.window.closed||t.window.close(),delete y[e],C())},U=e=>e in y;let x;const $=({id:e,url:t,element:o,callbacks:n,styles:i,closeButtonEnabled:a,enforceStyles:l,allowRedirects:d,backupTarget:p})=>{if(p==="self"&&!d)return;if((navigator.userAgent.match(/iPhone|iPad|iPod/i)||/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&(window.self!==window.top&&window.parent.postMessage({type:"placetopay-lightbox:redirect",url:t},"*"),p!=="self"||d)){M(t,p,e),S({id:e,callbacks:n,styles:i,closeButton:void 0,enforceStyles:l});return}const c=document.createElement("div");c.id=e,c.className=v.WRAPPER_ID,o!==document.body&&(c.style.setProperty(s.POSITION,"absolute"),c.style.setProperty(s.WRAPPER_HEIGHT,"100%"),c.style.setProperty(s.WRAPPER_WIDTH,"100%"));const f=document.createElement("iframe");f.src=t,f.id=v.IFRAME_ID,L(i),o.appendChild(c),c.appendChild(f);let b;a&&(b=document.createElement("button"),b.id=v.CLOSE_BUTTON_ID,b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="#4b5563" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>',b.addEventListener("click",()=>{O(e)}),c.appendChild(b)),S({id:e,callbacks:n,styles:i,closeButton:b,enforceStyles:l})},S=({id:e,callbacks:t,styles:o,closeButton:n,enforceStyles:i})=>{x=a=>{var l;if(a.data.type===g.CLOSE&&O(e),a.data.type===g.UPDATE_STYLES){const d=i?Object.assign(Object.assign({},a.data.payload),o):Object.assign(Object.assign({},o),a.data.payload);L(d)}a.data.type===g.HIDE_CLOSE_BUTTON&&(n==null||n.remove()),(l=t[a.data.type])===null||l===void 0||l.call(t,a.data.payload)},globalThis.addEventListener("message",x)},O=e=>{if(U(e)){N(e),globalThis.removeEventListener("message",x);return}const t=document.getElementById(e);if(t)t.remove(),j(),globalThis.removeEventListener("message",x);else throw new Error(`Frame from "${e}" not found`)},j=()=>{_(s.BACKDROP_COLOR),_(s.RADIUS),_(s.MAX_HEIGHT),_(s.MAX_WIDTH)},L=e=>{var t,o,n,i,a,l,d,p;m(s.BACKDROP_COLOR,F((t=e.backdropColor)!==null&&t!==void 0?t:"#000000",(o=e.backdropOpacity)!==null&&o!==void 0?o:.7)),m(s.RADIUS,`${(n=e.radius)!==null&&n!==void 0?n:0}px`),m(s.MAX_HEIGHT,w("height",(i=e.height)!==null&&i!==void 0?i:640)),m(s.MAX_WIDTH,w("width",(a=e.width)!==null&&a!==void 0?a:512)),m(s.POSITION,(l=e.position)!==null&&l!==void 0?l:"fixed"),m(s.WRAPPER_WIDTH,w("width",(d=e.wrapperWidth)!==null&&d!==void 0?d:"100vw")),m(s.WRAPPER_HEIGHT,w("height",(p=e.wrapperHeight)!==null&&p!==void 0?p:"100vh"))},F=(e,t)=>{var o;const n=(o=e==null?void 0:e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,a,l,d)=>"#"+a+a+l+l+d+d).substring(1).match(/.{2}/g))===null||o===void 0?void 0:o.map(i=>parseInt(i,16));return n.push(t),`rgba(${n.join(", ")})`},w=(e,t)=>{const o=String(t);if(o.match(/^\d+(vh|vw|px|%)$/))return o;if(o.match(/^\d+$/))return`${o}px`;console.warn(`Invalid ${e}. Must be a number, a number followed by "px", or a number followed by "%".`)},G=()=>globalThis.location!==globalThis.parent.location,X=e=>I(g.UPDATE_STYLES,e),Y=()=>I(g.HIDE_CLOSE_BUTTON),te=(e,t)=>{I(g.CLOSE,e,t)},oe=(e,t)=>{var o,n,i,a,l,d,p;const r={id:(o=t==null?void 0:t.id)!==null&&o!==void 0?o:new URL(e).origin,element:(n=t==null?void 0:t.element)!==null&&n!==void 0?n:document.body,allowRedirects:(i=t==null?void 0:t.allowRedirects)!==null&&i!==void 0?i:!0,callbacks:(a=t==null?void 0:t.callbacks)!==null&&a!==void 0?a:{},closeButton:(l=t==null?void 0:t.closeButton)!==null&&l!==void 0?l:!0,styles:(d=t==null?void 0:t.styles)!==null&&d!==void 0?d:{},backupTarget:(p=t==null?void 0:t.backupTarget)!==null&&p!==void 0?p:"self",url:e,close:()=>O(r.id),updateStyles:X,hideCloseButton:Y,on:(c,f)=>{r.callbacks[c]=f},open:()=>{var c;$({id:r.id,url:e,element:r.element,callbacks:r.callbacks,styles:r.styles,closeButtonEnabled:r.closeButton,enforceStyles:(c=t==null?void 0:t.enforceStyles)!==null&&c!==void 0?c:!1,allowRedirects:r.allowRedirects,backupTarget:r.backupTarget})}};return t!=null&&t.launch&&r.open(),r},z="/lightbox-sdk/check.svg",K="/lightbox-sdk/cross.svg",q={class:"flex gap-1 items-center"},V=E("img",{src:z,alt:"check"},null,-1),J=E("span",{class:"font-medium text-primary text-sm"},"currently inside a lightbox",-1),Q=E("img",{src:K,alt:"cross"},null,-1),Z=E("span",{class:"font-medium text-gray-500 text-sm"},"currently outside of a lightbox",-1),ae=A({__name:"IsInsideIndicator",setup(e){return(t,o)=>(T(),k("div",q,[D(G)()?(T(),k(P,{key:0},[V,J],64)):(T(),k(P,{key:1},[Q,Z],64))]))}});export{ae as _,oe as c,te as e,Y as h,X as u};
