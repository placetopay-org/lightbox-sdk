import{d as L,o as E,c as T,l as A,F as I,k as x}from"./framework.0a48aec2.js";var f;(function(e){e.WRAPPER_ID="placetopay_lightbox_wrapper",e.IFRAME_ID="placetopay_lightbox",e.CLOSE_BUTTON_ID="placetopay_close_button",e.STYLES_ID="placetopay-lightbox"})(f||(f={}));var m;(function(e){e.CLOSE="close",e.UPDATE_STYLES="updateStyles",e.HIDE_CLOSE_BUTTON="hideCloseButton"})(m||(m={}));var d;(function(e){e.BACKDROP_COLOR="--placetopay-lightbox-backdrop-color",e.RADIUS="--placetopay-lightbox-border-radius",e.MAX_HEIGHT="--placetopay-lightbox-max-height",e.MAX_WIDTH="--placetopay-lightbox-max-width",e.POSITION="--placetopay-lightbox-position",e.WRAPPER_WIDTH="--placetopay-lightbox-wrapper-width",e.WRAPPER_HEIGHT="--placetopay-lightbox-wrapper-height"})(d||(d={}));const k=(e,t,o)=>(globalThis.opener||globalThis.parent).postMessage({type:e,preventClose:o,payload:t},"*"),b=(e,t)=>{document.documentElement.style.setProperty(e,t)},v=e=>{document.documentElement.style.removeProperty(e)};let p=null,h=null;const w={},D=e=>e??`placetopay_${crypto.randomUUID()}`,H={en:{popupTitle:"Popup Opened",popupMessage:"Please complete the process in the popup window. This window will remain blocked until finished."},es:{popupTitle:"Popup Abierto",popupMessage:"Por favor, complete el proceso en la ventana emergente. Esta ventana permanecerÃ¡ bloqueada hasta que finalice."}};function B(){return(navigator.language||navigator.userLanguage).startsWith("es")?"es":"en"}function O(e){const t=B();return H[t][e]}const W=()=>{if(h)return;h=document.createElement("div"),h.className="placetopay-lightbox-backdrop-overlay",h.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 9998;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    `;const e=document.createElement("div");e.className="placetopay-lightbox-backdrop-message-container",e.style.cssText=`
        background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
        border-radius: 16px;
        padding: 40px;
        max-width: 420px;
        margin: 20px;
        text-align: center;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    `;const t=document.createElement("h2");t.className="placetopay-lightbox-backdrop-title",t.textContent=O("popupTitle"),t.style.cssText=`
        margin: 0 0 20px 0;
        font-size: 22px;
        font-weight: 700;
        color: #ffffff;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    `;const o=document.createElement("p");if(o.className="placetopay-lightbox-backdrop-message",o.textContent=O("popupMessage"),o.style.cssText=`
        margin: 0;
        font-size: 15px;
        line-height: 1.6;
        color: #d1d5db;
        opacity: 0.9;
    `,e.appendChild(t),e.appendChild(o),h.appendChild(e),document.body.appendChild(h),document.body.classList.add("placetopay-lightbox-open"),document.body.style.overflow="hidden",p){const a=setInterval(()=>{p!=null&&p.closed&&(clearInterval(a),C())},1e3)}},C=()=>{h&&(document.body.removeChild(h),h=null),document.body.style.overflow="",document.body.classList.remove("placetopay-lightbox-open"),p=null},M=(e,t="self",o)=>{switch(t){case"blank":p=window.open(e,"_blank");break;case"popup":{const n=(window.screen.width-512)/2,i=(window.screen.height-640)/2;p=window.open(e,D(o),`popup=true,width=512,height=640,left=${n},top=${i}`);break}case"self":default:window.location.href=e;break}return p&&o&&(w[o]={window:p,type:t}),p?W():window.location.href=e,p},N=e=>{const t=w[e];t&&(t.window.closed||t.window.close(),delete w[e],C())},U=e=>e in w;let y;const $=({id:e,url:t,element:o,callbacks:a,styles:s,closeButtonEnabled:n,enforceStyles:i,allowRedirects:c,backupTarget:r})=>{if(r==="self"&&!c)return;if(X()&&(window.self!==window.top&&window.parent.postMessage({type:"placetopay-lightbox:redirect",url:t},"*"),r!=="self"||c)){M(t,r,e),R({id:e,callbacks:a,styles:s,closeButton:void 0,enforceStyles:i});return}const l=document.createElement("div");l.id=e,l.className=f.WRAPPER_ID,o!==document.body&&(l.style.setProperty(d.POSITION,"absolute"),l.style.setProperty(d.WRAPPER_HEIGHT,"100%"),l.style.setProperty(d.WRAPPER_WIDTH,"100%"));const u=document.createElement("iframe");u.src=t,u.id=f.IFRAME_ID,S(s),o.appendChild(l),l.appendChild(u);let g;n&&(g=document.createElement("button"),g.id=f.CLOSE_BUTTON_ID,g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="#4b5563" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>',g.addEventListener("click",()=>{P(e)}),l.appendChild(g)),R({id:e,callbacks:a,styles:s,closeButton:g,enforceStyles:i})},R=({id:e,callbacks:t,styles:o,closeButton:a,enforceStyles:s})=>{y=n=>{var i;if(n.data.type===m.CLOSE&&P(e),n.data.type===m.UPDATE_STYLES){const c=s?Object.assign(Object.assign({},n.data.payload),o):Object.assign(Object.assign({},o),n.data.payload);S(c)}n.data.type===m.HIDE_CLOSE_BUTTON&&(a==null||a.remove()),(i=t[n.data.type])===null||i===void 0||i.call(t,n.data.payload)},globalThis.addEventListener("message",y)},P=e=>{if(U(e)){N(e),globalThis.removeEventListener("message",y);return}const t=document.getElementById(e);if(t)t.remove(),j(),globalThis.removeEventListener("message",y);else throw new Error(`Frame from "${e}" not found`)},j=()=>{v(d.BACKDROP_COLOR),v(d.RADIUS),v(d.MAX_HEIGHT),v(d.MAX_WIDTH)},S=e=>{var t,o,a,s,n,i,c,r;b(d.BACKDROP_COLOR,F((t=e.backdropColor)!==null&&t!==void 0?t:"#000000",(o=e.backdropOpacity)!==null&&o!==void 0?o:.7)),b(d.RADIUS,`${(a=e.radius)!==null&&a!==void 0?a:0}px`),b(d.MAX_HEIGHT,_("height",(s=e.height)!==null&&s!==void 0?s:640)),b(d.MAX_WIDTH,_("width",(n=e.width)!==null&&n!==void 0?n:512)),b(d.POSITION,(i=e.position)!==null&&i!==void 0?i:"fixed"),b(d.WRAPPER_WIDTH,_("width",(c=e.wrapperWidth)!==null&&c!==void 0?c:"100vw")),b(d.WRAPPER_HEIGHT,_("height",(r=e.wrapperHeight)!==null&&r!==void 0?r:"100vh"))},F=(e,t)=>{var o;const a=(o=e==null?void 0:e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(s,n,i,c)=>"#"+n+n+i+i+c+c).substring(1).match(/.{2}/g))===null||o===void 0?void 0:o.map(s=>parseInt(s,16));return a.push(t),`rgba(${a.join(", ")})`},_=(e,t)=>{const o=String(t);if(o.match(/^\d+(vh|vw|px|%)$/))return o;if(o.match(/^\d+$/))return`${o}px`;console.warn(`Invalid ${e}. Must be a number, a number followed by "px", or a number followed by "%".`)},G=()=>globalThis.location!==globalThis.parent.location,X=()=>/iPhone|iPad|iPod/i.test(navigator.userAgent)||/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Y=e=>k(m.UPDATE_STYLES,e),z=()=>k(m.HIDE_CLOSE_BUTTON),oe=(e,t)=>{k(m.CLOSE,e,t)},ne=(e,t)=>{var o,a,s,n,i,c,r;const l={id:(o=t==null?void 0:t.id)!==null&&o!==void 0?o:new URL(e).origin,element:(a=t==null?void 0:t.element)!==null&&a!==void 0?a:document.body,allowRedirects:(s=t==null?void 0:t.allowRedirects)!==null&&s!==void 0?s:!0,callbacks:(n=t==null?void 0:t.callbacks)!==null&&n!==void 0?n:{},closeButton:(i=t==null?void 0:t.closeButton)!==null&&i!==void 0?i:!0,styles:(c=t==null?void 0:t.styles)!==null&&c!==void 0?c:{},backupTarget:(r=t==null?void 0:t.backupTarget)!==null&&r!==void 0?r:"self",url:e,close:()=>P(l.id),updateStyles:Y,hideCloseButton:z,on:(u,g)=>{l.callbacks[u]=g},open:()=>{var u;$({id:l.id,url:e,element:l.element,callbacks:l.callbacks,styles:l.styles,closeButtonEnabled:l.closeButton,enforceStyles:(u=t==null?void 0:t.enforceStyles)!==null&&u!==void 0?u:!1,allowRedirects:l.allowRedirects,backupTarget:l.backupTarget})}};return t!=null&&t.launch&&l.open(),l},K="/lightbox-sdk/check.svg",q="/lightbox-sdk/cross.svg",V={class:"flex gap-1 items-center"},J=x("img",{src:K,alt:"check"},null,-1),Q=x("span",{class:"font-medium text-primary text-sm"},"currently inside a lightbox",-1),Z=x("img",{src:q,alt:"cross"},null,-1),ee=x("span",{class:"font-medium text-gray-500 text-sm"},"currently outside of a lightbox",-1),ae=L({__name:"IsInsideIndicator",setup(e){return(t,o)=>(E(),T("div",V,[A(G)()?(E(),T(I,{key:0},[J,Q],64)):(E(),T(I,{key:1},[Z,ee],64))]))}});export{ae as _,ne as c,oe as e,z as h,Y as u};
